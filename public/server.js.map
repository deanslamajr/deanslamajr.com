{"version":3,"sources":["webpack:///webpack/bootstrap e1d95a7073c4b56fe41a","webpack:///external \"react\"","webpack:///external \"react-css-modules\"","webpack:///./config/constants.js","webpack:///external \"axios\"","webpack:///external \"react-redux\"","webpack:///./src/client/components/Error/index.js","webpack:///./src/client/components/Header/index.js","webpack:///./src/client/components/Loader/index.js","webpack:///./src/server/models/db.js","webpack:///external \"react-helmet\"","webpack:///./src/server/models/utils.js","webpack:///external \"express\"","webpack:///external \"react-router\"","webpack:///./src/client/components/helpers.js","webpack:///./src/client/data/about/actions.js","webpack:///./src/client/data/about/constants.js","webpack:///./src/client/data/posts/actions.js","webpack:///./src/client/data/posts/constants.js","webpack:///./src/client/data/projects/actions.js","webpack:///./src/client/data/projects/constants.js","webpack:///./src/client/data/readings/actions.js","webpack:///./src/client/data/readings/constants.js","webpack:///./src/server/models/about.js","webpack:///./src/server/models/jwt.js","webpack:///./src/server/models/posts.js","webpack:///./src/server/models/projects.js","webpack:///./src/server/models/readings.js","webpack:///./src/client/components/common.css","webpack:///external \"classnames\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"redux\"","webpack:///./src/server/index.js","webpack:///external \"babel-polyfill\"","webpack:///./src/client/components/About/About.js","webpack:///./src/client/components/About/AboutContainer.js","webpack:///./src/client/components/About/Edit/index.js","webpack:///./src/client/components/About/index.js","webpack:///./src/client/components/Layout/Navbar/Hamburger/index.js","webpack:///./src/client/components/Layout/Navbar/index.js","webpack:///./src/client/components/Layout/Navbar/navbar.js","webpack:///./src/client/components/Layout/index.js","webpack:///./src/client/components/Login/index.js","webpack:///./src/client/components/Posts/Post.js","webpack:///./src/client/components/Posts/PostList.js","webpack:///./src/client/components/Posts/index.js","webpack:///./src/client/components/Projects/Project.js","webpack:///./src/client/components/Projects/ProjectsContainer.js","webpack:///./src/client/components/Projects/ProjectsList.js","webpack:///./src/client/components/Projects/index.js","webpack:///./src/client/components/Readings/Add/Add.js","webpack:///./src/client/components/Readings/Add/index.js","webpack:///./src/client/components/Readings/Reading.js","webpack:///./src/client/components/Readings/ReadingsContainer.js","webpack:///./src/client/components/Readings/ReadingsList.js","webpack:///./src/client/components/Readings/index.js","webpack:///./src/client/components/routes.js","webpack:///./src/client/data/about/reducers.js","webpack:///./src/client/data/posts/reducers.js","webpack:///./src/client/data/projects/reducers.js","webpack:///./src/client/data/readings/reducers.js","webpack:///./src/client/data/reducers.js","webpack:///./src/client/data/store.js","webpack:///./src/server/api.js","webpack:///./src/server/controllers/about.js","webpack:///./src/server/controllers/login.js","webpack:///./src/server/controllers/logout.js","webpack:///./src/server/controllers/posts.js","webpack:///./src/server/controllers/projects.js","webpack:///./src/server/controllers/readings.js","webpack:///./src/server/controllers/render-component.js","webpack:///./src/server/controllers/status.js","webpack:///./src/server/helpers/metrics.js","webpack:///./src/server/helpers/sentry.js","webpack:///./src/server/models/user.js","webpack:///./src/server/routes.js","webpack:///./src/client/components/About/about.css","webpack:///./src/client/components/Error/error.css","webpack:///./src/client/components/Header/header.css","webpack:///./src/client/components/Layout/Navbar/Hamburger/hamburger.css","webpack:///./src/client/components/Layout/Navbar/navbar.css","webpack:///./src/client/components/Layout/layout.css","webpack:///./src/client/components/Loader/loader.css","webpack:///./src/client/components/Login/login.css","webpack:///./src/client/components/Projects/project.css","webpack:///./src/client/components/Readings/Add/add.css","webpack:///external \"aws-dynamodb\"","webpack:///external \"bcrypt\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"helmet\"","webpack:///external \"lynx\"","webpack:///external \"nconf\"","webpack:///external \"raven\"","webpack:///external \"react-dom/server\"","webpack:///external \"redux-promise-middleware\"","webpack:///external \"uuid/v4\""],"names":["config","argv","env","file","__dirname","error","allowMultiple","Header","summary","loader","dynamoDB","accessKeyId","get","secretAccessKey","region","verifyResponse","res","Array","isArray","Error","length","formatDate","date","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","formattedDate","fetchAbout","type","payload","addAbout","data","ABOUT_FETCH","ABOUT_ADD","ABOUT_FETCH_PENDING","ABOUT_FETCH_FULFILLED","ABOUT_FETCH_REJECTED","addPosts","posts","fetchPosts","POSTS_FETCH","POSTS_ADD","POSTS_FETCH_PENDING","POSTS_FETCH_FULFILLED","POSTS_FETCH_REJECTED","addProjects","projects","fetchProjects","PROJECTS_FETCH","PROJECTS_FETCH_PENDING","PROJECTS_FETCH_FULFILLED","PROJECTS_FETCH_REJECTED","PROJECTS_ADD","addReadings","readings","fetchReadings","READINGS_FETCH","READINGS_ADD","READINGS_FETCH_PENDING","READINGS_FETCH_FULFILLED","READINGS_FETCH_REJECTED","reverseSortResponseByVersion","sort","a","b","version","Number","isInteger","table","scan","then","ACCESSTOKENCOOKIE","SECRET","verify","req","Promise","resolve","reject","jWT","cookies","err","headers","cleanedData","substring","jsonifiedData","JSON","parse","postsObject","references","Post","Object","keys","map","key","add","insert","app","use","set","process","PORT","static","json","listen","console","log","renderLogo","imageURL","backgroundImage","renderLinks","linksArray","name","url","renderBio","bio","__html","About","props","isLoading","content","title","pictureURL","links","Component","mapStateToProps","state","about","isFetched","Edit","AboutParentContainer","editAboutComponent","children","Hamburger","onMenuClick","expanded","isActive","active","NavBarContainer","_onMenuClick","bind","_onLinkClick","setState","item","path","toLowerCase","activeItem","push","currentPath","menuItems","split","NavBar","items","itemSelected","forEach","styleName","onLinkClick","conditionalShow","itemsClasses","_generateItemClasses","navbarItems","_renderMenuItem","renderFooter","Layout","pathname","location","SUCCESS","FAILURE","LOGGEDOUT","AUTHENTICATED","NOTAUTHENTICATED","Login","username","password","loginResult","authenticated","handleSubmit","checkAuthentication","logout","event","target","value","preventDefault","post","catch","authState","renderAuthenticationCheckDiv","handleChange","renderLoginResultDiv","mediumUser","postURL","uniqueSlug","Date","firstPublishedAt","publishDate","previewContent","bodyModel","paragraphs","text","PostList","postData","id","Project","cardData","source","description","ProjectsList","sortedData","order","projectsData","ProjectsParentContainer","editProjectsComponent","Add","serverResult","submitHandler","changeHandler","author","quote","publication","serverResultClasses","join","message","AddContainer","defaultServerState","defaultFormState","defaultState","assign","_onSubmit","_onChange","valueOf","readingData","element","Reading","Readings","foundDate","ReadingsParentContainer","addReadingsComponent","reducers","response","actionReducer","initialState","router","Router","status","sendStatus","authenticateUser","INVALID_CREDS","verifyPassword","compare","body","result","createJWT","accessToken","sign","exp","Math","floor","now","cookie","expires","httpOnly","startTime","responseCode","clearCookie","e","captureException","getTime","fetchDataByPath","store","originalUrl","dispatch","redirect","search","matchRoutes","routes","renderComponent","stringify","getState","markup","render","send","isAuthenticated","settings","host","port","client","prefix","sanitizeName","tokens","shift","createRequestNamespace","method","urlTokens","resourceName","replace","sanitizedResourceName","increment","time","duration","timing","sendTimeMetric","namespace","sendFinishedRequest","includes","statusCode","sendRequestClosed","middleware","next","once","module","exports","install","getHashedPassword","where","eq"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 96);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1d95a7073c4b56fe41a","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-css-modules\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-css-modules\"\n// module id = 1\n// module chunks = 0","/**\n * Sets up environment-specific configuration\n * @module config\n * @requires nconf\n */\n\nimport nconf from 'nconf'\n\nconst config = nconf\n  .argv()\n  .env('__') // custom delimiter for nested properties\n  .file(`${__dirname}/../config/constants.json`)\n\nexport default config\n\n\n\n// WEBPACK FOOTER //\n// ./config/constants.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 4\n// module chunks = 0","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from './error.css'\n\nfunction error () {\n  return (\n    <div styleName='container'>\n      <div styleName='message'>500 error, our apologies.</div>\n      <div styleName='message'>This error is the engineer's fault.</div>\n    </div>\n  )\n}\n\nexport default cssModules(error, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Error/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from './header.css'\n\nfunction Header ({ summary }) {\n  return (\n    <div styleName='container'>\n      { summary }\n    </div>\n  )\n}\n\nexport default cssModules(Header, styles)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Header/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from './loader.css'\n\nfunction loader () {\n  return (\n    <div styleName='container' title='1'>\n      <svg version='1.1' id='loader-1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px'\n        width='50px' height='50px' viewBox='0 0 50 50'>\n        <path fill='#004741' d='M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z'>\n          <animateTransform attributeType='xml'\n            attributeName='transform'\n            type='rotate'\n            from='0 25 25'\n            to='360 25 25'\n            dur='0.6s'\n            repeatCount='indefinite' />\n        </path>\n      </svg>\n    </div>\n  )\n}\n\nexport default cssModules(loader, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Loader/index.js","import awsDynamoDB from 'aws-dynamodb'\n\nimport constants from '../../../config/constants'\n\nconst dynamoDB = awsDynamoDB({\n  accessKeyId: constants.get('DB_ACCESS_KEY_ID'),\n  secretAccessKey: constants.get('DB_SECRET_ACCESS_KEY'),\n  region: constants.get('DB_REGION')\n})\n\nexport default dynamoDB\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/db.js","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 9\n// module chunks = 0","export function verifyResponse (res) {\n  if (!Array.isArray(res)) {\n    throw new Error('DB response was not the expected type: Array')\n  }\n  if (!res.length) {\n    throw new Error('DB returned an empty array.')\n  }\n  return res\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/utils.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 12\n// module chunks = 0","export function formatDate (date) {\n  const monthNames = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ]\n\n  const day = date.getDate()\n  const monthIndex = date.getMonth()\n  const year = date.getFullYear()\n\n  const formattedDate = `${day} ${monthNames[monthIndex]} ${year}`\n\n  return formattedDate\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/helpers.js","import axios from 'axios'\n\nimport { ABOUT_FETCH, ABOUT_ADD } from './constants'\n\nexport const fetchAbout = () => ({\n  type: ABOUT_FETCH,\n  payload: axios.get('/api/about')\n})\n\nexport const addAbout = (data) => ({\n  type: ABOUT_ADD,\n  payload: data\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/about/actions.js","export const ABOUT_FETCH = 'ABOUT_FETCH'\nexport const ABOUT_ADD = 'ABOUT_ADD'\n\nexport const ABOUT_FETCH_PENDING = 'ABOUT_FETCH_PENDING'\nexport const ABOUT_FETCH_FULFILLED = 'ABOUT_FETCH_FULFILLED'\nexport const ABOUT_FETCH_REJECTED = 'ABOUT_FETCH_REJECTED'\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/about/constants.js","import axios from 'axios'\n\nimport { POSTS_FETCH, POSTS_ADD } from './constants'\n\nexport const addPosts = (posts) => ({\n  type: POSTS_ADD,\n  payload: posts\n})\n\nexport const fetchPosts = () => ({\n  type: POSTS_FETCH,\n  payload: axios.get('/api/posts')\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/posts/actions.js","export const POSTS_FETCH = 'POSTS_FETCH'\n\nexport const POSTS_ADD = 'POSTS_ADD'\n\nexport const POSTS_FETCH_PENDING = 'POSTS_FETCH_PENDING'\nexport const POSTS_FETCH_FULFILLED = 'POSTS_FETCH_FULFILLED'\nexport const POSTS_FETCH_REJECTED = 'POSTS_FETCH_REJECTED'\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/posts/constants.js","import axios from 'axios'\n\nimport { PROJECTS_FETCH, PROJECTS_ADD } from './constants'\n\nexport const addProjects = (projects) => ({\n  type: PROJECTS_ADD,\n  payload: projects\n})\n\nexport const fetchProjects = () => ({\n  type: PROJECTS_FETCH,\n  payload: axios.get('/api/projects')\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/projects/actions.js","export const PROJECTS_FETCH = 'PROJECTS_FETCH'\n\nexport const PROJECTS_FETCH_PENDING = 'PROJECTS_FETCH_PENDING'\nexport const PROJECTS_FETCH_FULFILLED = 'PROJECTS_FETCH_FULFILLED'\nexport const PROJECTS_FETCH_REJECTED = 'PROJECTS_FETCH_REJECTED'\n\nexport const PROJECTS_ADD = 'PROJECTS_ADD'\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/projects/constants.js","import axios from 'axios'\n\nimport { READINGS_ADD, READINGS_FETCH } from './constants'\n\nexport const addReadings = (readings) => ({\n  type: READINGS_ADD,\n  payload: readings\n})\n\nexport const fetchReadings = () => ({\n  type: READINGS_FETCH,\n  payload: axios.get('/api/readings')\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/readings/actions.js","export const READINGS_FETCH = 'READINGS_FETCH'\n\nexport const READINGS_ADD = 'READINGS_ADD'\n\nexport const READINGS_FETCH_PENDING = 'READINGS_FETCH_PENDING'\nexport const READINGS_FETCH_FULFILLED = 'READINGS_FETCH_FULFILLED'\nexport const READINGS_FETCH_REJECTED = 'READINGS_FETCH_REJECTED'\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/readings/constants.js","import db from './db'\nimport { verifyResponse } from './utils'\nimport constants from '../../../config/constants'\n\nfunction reverseSortResponseByVersion (res) {\n  return res.sort((a, b) => {\n    // if either item does not have a valid version property, sort that item as less important\n    if (!a.version || !Number.isInteger(a.version)) {\n      return 1\n    }\n    if (!b.version || !Number.isInteger(b.version)) {\n      return -1\n    }\n    return b.version - a.version\n  })\n}\n\nexport const get = () => {\n  return db\n    .table(constants.get('DB_TABLE_ABOUT'))\n    .scan()\n    .then(res => {\n      verifyResponse(res)\n      // return the most recent version\n      return reverseSortResponseByVersion(res)[0]\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/about.js","import jwt from 'jsonwebtoken'\n\nimport constants from '../../../config/constants'\n\nconst ACCESSTOKENCOOKIE = constants.get('accessTokenCookie')\nconst SECRET = constants.get('secret')\n\nexport const verify = (req) => {\n  return new Promise((resolve, reject) => {\n    const jWT = req.cookies[ACCESSTOKENCOOKIE]\n\n    if (!jWT) {\n      reject(new Error('JWT is invalid!'))\n    } else {\n      try {\n        jwt.verify(jWT, SECRET)\n        resolve()\n      } catch (err) {\n        reject(err)\n      }\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/jwt.js","import axios from 'axios'\n\nimport constants from '../../../config/constants'\n\nexport const get = () => {\n  const headers = { 'Accept': 'application/json' }\n\n  return axios.get(`https://medium.com/${constants.get('MEDIUM_USERNAME')}/latest`, { headers })\n    .then(({ data }) => {\n      // the first 16 characters of the response are unnusable giberish\n      const cleanedData = data.substring(16)\n\n      const jsonifiedData = JSON.parse(cleanedData)\n      const postsObject = jsonifiedData.payload.references.Post\n\n      return Object.keys(postsObject)\n        .map(key => postsObject[key])\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/posts.js","import db from './db'\nimport { verifyResponse } from './utils'\nimport constants from '../../../config/constants'\n\nexport const get = () => {\n  return db\n    .table(constants.get('DB_TABLE_PROJECTS'))\n    .scan()\n    .then(verifyResponse)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/projects.js","import db from './db'\nimport { verifyResponse } from './utils'\nimport constants from '../../../config/constants'\n\nexport const add = (data) => {\n  return db\n    .table(constants.get('DB_TABLE_READINGS'))\n    .insert(data)\n}\n\nexport const get = () => {\n  return db\n    .table(constants.get('DB_TABLE_READINGS'))\n    .scan()\n    .then(verifyResponse)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/readings.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-common__shadow--3mB6G\",\"card\":\"src-client-components-common__card--3uHoO\",\"flex-container\":\"src-client-components-common__flex-container--Wz-G0\",\"card-link\":\"src-client-components-common__card-link--3l8LU\",\"title\":\"src-client-components-common__title--OKQVG\",\"details\":\"src-client-components-common__details--qW__c\",\"quote\":\"src-client-components-common__quote--3GQhJ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/common.css\n// module id = 27\n// module chunks = 0","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 30\n// module chunks = 0","import express from 'express'\n\nimport bodyParser from 'body-parser'\nimport cookieParser from 'cookie-parser'\nimport helmet from 'helmet'\n\nimport router from './routes'\n\nconst app = express()\n\n// helps secure Express with various HTTP headers\napp.use(helmet())\n\napp.use(cookieParser())\n\napp.set('view engine', 'ejs')\napp.set('views', __dirname)\n\napp.set('port', (process.env.PORT || 1986))\n\napp.use(express.static(__dirname))\n\napp.use(bodyParser.json())\n\n// define routes\napp.use(router)\n\n// start the server\napp.listen(app.get('port'), function () {\n  console.log('ready on port ' + app.get('port'))\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 32\n// module chunks = 0","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport Helmet from 'react-helmet'\n\nimport styles from './about.css'\n\nimport Header from '../Header'\nimport Loader from '../Loader'\nimport ErrorComponent from '../Error'\n\nfunction renderLogo (imageURL) {\n  const backgroundImage = {\n    backgroundImage: `url(${imageURL}), url(${imageURL})`\n  }\n\n  return (\n    <div styleName='logo-container shadow'>\n      <div style={backgroundImage} styleName='logo-main' />\n    </div>\n  )\n}\n\nfunction renderLinks (linksArray) {\n  return (\n    <div styleName='links'>\n      {\n        linksArray.map(({ name, url }) => (\n          <li key={name} styleName='link'>\n            <a href={url} target='_blank'>{name}</a>\n          </li>\n        ))\n      }\n    </div>\n  )\n}\n\nfunction renderBio (bio) {\n  return <div styleName='bio card shadow' dangerouslySetInnerHTML={{__html: bio}} />\n}\n\nclass About extends React.Component {\n  componentDidMount () {\n    if (!this.props.data) {\n      this.props.fetchAbout()\n    }\n  }\n\n  render () {\n    const { data, isLoading, error } = this.props\n    let content\n\n    if (data) {\n      content = (\n        <div styleName='about'>\n          { data.title ? <Header summary={data.title} /> : null }\n          { data.pictureURL ? renderLogo(data.pictureURL) : null }\n          { data.links ? renderLinks(data.links) : null }\n          { data.bio ? renderBio(data.bio) : null }\n        </div>\n      )\n    } else if (isLoading) {\n      content = <Loader />\n    } else if (error) {\n      // @todo reroute to 5xx view\n      content = <ErrorComponent />\n    } else {\n      content = null\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>dslama.net - about</title>\n        </Helmet>\n        {content}\n      </div>\n    )\n  }\n}\n\nexport default cssModules(About, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/About/About.js","import { connect } from 'react-redux'\n\nimport { fetchAbout } from '../../data/about/actions'\nimport About from './About'\n\nfunction mapStateToProps (state) {\n  if (state.about.isLoading) {\n    return {\n      isLoading: true\n    }\n  } else if (state.about.error) {\n    // @todo log error\n    return {\n      error: true\n    }\n  } else if (state.about.isFetched) {\n    return {\n      data: state.about.data\n    }\n  } else {\n    return {}\n  }\n}\n\nexport default connect(mapStateToProps, { fetchAbout })(About)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/About/AboutContainer.js","import React from 'react'\n\nexport default class Edit extends React.Component {\n  render () {\n    return (\n      <div>\n        Editing the about page!!\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/About/Edit/index.js","import React from 'react'\n\nimport AboutContainer from './AboutContainer'\n\nexport default class AboutParentContainer extends React.Component {\n  render () {\n    const { children: editAboutComponent } = this.props\n\n    return editAboutComponent || <AboutContainer />\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/About/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport classNames from 'classnames'\n\nimport styles from './hamburger.css'\n\nclass Hamburger extends React.Component {\n  render () {\n    const { onMenuClick, expanded } = this.props\n\n    const isActive = classNames({\n      active: expanded\n    }, 'mobile', 'hamburger')\n\n    return (\n      <div onClick={onMenuClick} styleName={isActive}>\n        <span styleName='line' />\n        <span styleName='line' />\n        <span styleName='line' />\n      </div>\n    )\n  }\n}\n\nexport default cssModules(Hamburger, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Layout/Navbar/Hamburger/index.js","import React from 'react'\nimport { browserHistory } from 'react-router'\n\nimport Navbar from './navbar'\n\nexport default class NavBarContainer extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this._onMenuClick = this._onMenuClick.bind(this)\n    this._onLinkClick = this._onLinkClick.bind(this)\n\n    this.state = {\n      expanded: false\n    }\n  }\n\n  _onMenuClick () {\n    this.setState({ expanded: !this.state.expanded })\n  }\n\n  _onLinkClick (item) {\n    const path = item.toLowerCase()\n\n    this.setState({\n      expanded: false,\n      activeItem: path\n    })\n\n    browserHistory.push(`/${path}`)\n  }\n\n  componentWillMount () {\n    // set the activeItem i.e. active view\n    const { currentPath, menuItems } = this.props\n\n    let activeItem = currentPath.split('/')[1]\n\n    activeItem = activeItem\n      ? activeItem.toLowerCase()\n      : menuItems[0].toLowerCase()\n\n    this.setState({ activeItem })\n  }\n\n  render () {\n    const { title, menuItems } = this.props\n    return (\n      <Navbar\n        title={title}\n        activeItem={this.state.activeItem}\n        expanded={this.state.expanded}\n        onMenuClick={this._onMenuClick}\n        onLinkClick={this._onLinkClick}\n        menuItems={menuItems}\n      />\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Layout/Navbar/index.js","import React from 'react'\nimport classNames from 'classnames'\nimport cssModules from 'react-css-modules'\n\nimport Hamburger from './Hamburger'\n\nimport styles from './navbar.css'\n\nclass NavBar extends React.Component {\n  _generateItemClasses (items) {\n    const { activeItem } = this.props\n\n    const itemSelected = {}\n\n    items.forEach(item => {\n      itemSelected[item] = classNames('link', { 'active': activeItem === item.toLowerCase() })\n    })\n\n    return itemSelected\n  }\n\n  _renderMenuItem (item, styleName) {\n    const { onLinkClick } = this.props\n\n    function _onLinkClick (item) {\n      onLinkClick(item)\n    }\n\n    return (\n      <span key={item} onClick={_onLinkClick.bind(this, item)} styleName={styleName}>\n        {item}\n      </span>\n    )\n  }\n\n  render () {\n    const {\n      title,\n      menuItems,\n      expanded,\n      onMenuClick\n    } = this.props\n\n    const conditionalShow = classNames({\n      [styles['show']]: expanded\n    })\n\n    const itemsClasses = this._generateItemClasses(menuItems)\n    const navbarItems = menuItems.map(item => this._renderMenuItem(item, itemsClasses[item]))\n\n    return (\n      <div styleName='outer-container shadow'>\n        <span styleName='middle-container'>\n          <span>{title}</span>\n          <Hamburger onMenuClick={onMenuClick} expanded={expanded} />\n        </span>\n        <span styleName='inner-container' className={conditionalShow}>\n          { navbarItems }\n        </span>\n      </div>\n    )\n  }\n}\n\nexport default cssModules(NavBar, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Layout/Navbar/navbar.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport NavbarContainer from './Navbar'\n\nimport styles from './layout.css'\n\nfunction renderFooter () {\n  return (\n    <div styleName='footer-container'>\n      Feel free to <a styleName='footer-link' href='https://github.com/deanslamajr/deanslamajr.com' target='_blank'>fork this spa</a> and host it!\n    </div>\n  )\n}\n\nclass Layout extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.menuItems = [\n      'about',\n      'posts',\n      'projects',\n      'readings'\n    ]\n\n    this.title = 'dean slama'\n  }\n\n  render () {\n    const { location: { pathname } } = this.props\n\n    return (\n      <div styleName='container'>\n        <NavbarContainer\n          currentPath={pathname}\n          title={this.title}\n          menuItems={this.menuItems}\n        />\n        {this.props.children}\n        {renderFooter()}\n      </div>\n    )\n  }\n}\n\nexport default cssModules(Layout, styles)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Layout/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport axios from 'axios'\n\nimport styles from './login.css'\n\nconst SUCCESS = 'success'\nconst FAILURE = 'failure'\nconst LOGGEDOUT = 'logged out'\nconst AUTHENTICATED = 'authenticated'\nconst NOTAUTHENTICATED = 'not authenticated'\n\nclass Login extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      username: '',\n      password: '',\n      loginResult: '',\n      authenticated: ''\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.checkAuthentication = this.checkAuthentication.bind(this)\n    this.logout = this.logout.bind(this)\n  }\n\n  handleChange (type, event) {\n    this.setState({ [type]: event.target.value })\n  }\n\n  handleSubmit (event) {\n    // prevent page refresh\n    event.preventDefault()\n\n    axios.post('/login', { username: this.state.username, password: this.state.password })\n      .then(res => {\n        this.setState({\n          loginResult: SUCCESS,\n          authenticated: AUTHENTICATED\n        })\n      })\n      .catch(() => {\n        // @todo log error\n        this.setState({ loginResult: FAILURE })\n      })\n  }\n\n  renderLoginResultDiv () {\n    return this.state.loginResult\n      ? (<a styleName='form-input form-text' onClick={this.checkAuthentication}>{this.state.loginResult}!</a>)\n      : null\n  }\n\n  checkAuthentication () {\n    axios.get('/status/authentication')\n      .then(res => {\n        this.setState({ authenticated: AUTHENTICATED })\n      })\n      .catch(() => {\n        // @todo log error\n        this.setState({ authenticated: NOTAUTHENTICATED })\n      })\n  }\n\n  renderAuthenticationCheckDiv () {\n    const authState = this.state.authenticated\n    return (\n      <div styleName='form-input form-text auth-div'>\n        <div>{authState}</div>\n        {\n          authState === AUTHENTICATED\n            ? <button onClick={this.logout}>Logout</button>\n            : null\n        }\n      </div>\n    )\n  }\n\n  logout () {\n    // revert login&auth state\n    this.setState({\n      loginResult: '',\n      authenticated: ''\n    })\n\n    axios.post('/logout')\n      .then(res => {\n        this.setState({ loginResult: LOGGEDOUT })\n      })\n      .catch(() => {\n        // @todo log error\n        this.setState({ loginResult: FAILURE })\n      })\n  }\n\n  componentDidMount () {\n    this.checkAuthentication()\n  }\n\n  render () {\n    return (\n      <form styleName='container' onSubmit={this.handleSubmit}>\n        { this.renderAuthenticationCheckDiv() }\n        <input type='text' onChange={this.handleChange.bind(this, 'username')} placeholder='username' styleName='form-input' />\n        <input type='password' onChange={this.handleChange.bind(this, 'password')} placeholder='password' styleName='form-input' />\n        <input type='submit' value='Login' styleName='form-input' />\n        { this.renderLoginResultDiv() }\n      </form>\n    )\n  }\n}\n\nexport default cssModules(Login, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Login/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from '../common.css'\n\nimport { formatDate } from '../helpers'\n\nfunction Post ({ data }) {\n  const mediumUser = process.env.mediumUser\n  const postURL = `https://medium.com/${mediumUser}/${data.uniqueSlug}`\n\n  const date = new Date(data.firstPublishedAt)\n  const publishDate = formatDate(date)\n\n  return (\n    <div styleName='flex-container'>\n      <a\n        styleName='card-link'\n        href={postURL}\n        target='_blank'>\n        <div styleName='card shadow'>\n          <div styleName='title'>\n            {data.title}\n          </div>\n          <div styleName='details'>\n            <div>\n              {publishDate}\n            </div>\n          </div>\n          <div styleName='quote'>\n            {data.previewContent.bodyModel.paragraphs[1].text}\n          </div>\n        </div>\n      </a>\n    </div>\n  )\n}\n\nexport default cssModules(Post, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Posts/Post.js","import React from 'react'\nimport Helmet from 'react-helmet'\n\nimport Header from '../Header'\nimport Loader from '../Loader'\nimport ErrorComponent from '../Error'\n\nimport Post from './Post'\n\nconst summary = 'This is a list of blog posts authored by the developer. Most recently published posts are nearer the top.'\n\nexport default class PostList extends React.Component {\n  componentDidMount () {\n    if (!this.props.data) {\n      this.props.fetchPosts()\n    }\n  }\n\n  render () {\n    const { data, isLoading, error } = this.props\n    let content\n\n    if (data && data.length) {\n      content = (\n        <div>\n          <Header summary={summary} />\n          {\n            data.map(postData => (\n              <Post key={postData.id} data={postData} />\n            ))\n          }\n        </div>\n      )\n    } else if (isLoading) {\n      content = (\n        <div>\n          <Header summary={summary} />\n          <Loader />\n        </div>\n      )\n    } else if (error) {\n      // @todo reroute to 5xx view\n      content = <ErrorComponent />\n    } else {\n      content = null\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>dslama.net - posts</title>\n        </Helmet>\n        {content}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Posts/PostList.js","import { connect } from 'react-redux'\n\nimport { fetchPosts } from '../../data/posts/actions'\nimport PostList from './PostList'\n\nfunction mapStateToProps (state) {\n  if (state.posts.isLoading) {\n    return {\n      isLoading: true\n    }\n  } else if (state.posts.error) {\n    // @todo log error\n    return {\n      error: true\n    }\n  } else if (state.posts.isFetched) {\n    return {\n      data: state.posts.data\n    }\n  } else {\n    return {}\n  }\n}\n\nexport default connect(mapStateToProps, { fetchPosts })(PostList)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Posts/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from './project.css'\n\nfunction Project ({ cardData }) {\n  return (\n    <div key={cardData.id} styleName='flex-container'>\n      <div styleName='card shadow'>\n        <div styleName='title'>\n          <a href={cardData.url} target='_blank' styleName='project-link'>{cardData.name}</a>\n           -\n          <a href={cardData.source} target='_blank' styleName='source-link'>source</a>\n        </div>\n        <div styleName='description'>\n          {cardData.description}\n        </div>\n        <div styleName='quote' dangerouslySetInnerHTML={{ __html: cardData.summary }} />\n      </div>\n    </div>\n  )\n}\n\nexport default cssModules(Project, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Projects/Project.js","import { connect } from 'react-redux'\n\nimport { fetchProjects } from '../../data/projects/actions'\nimport ProjectsList from './ProjectsList'\n\nfunction mapStateToProps (state) {\n  if (state.projects.isLoading) {\n    return {\n      isLoading: true\n    }\n  } else if (state.projects.error) {\n    // @todo log error\n    return {\n      error: true\n    }\n  } else if (state.projects.isFetched) {\n    return {\n      projects: state.projects.data\n    }\n  } else {\n    return {}\n  }\n}\n\nexport default connect(mapStateToProps, { fetchProjects })(ProjectsList)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Projects/ProjectsContainer.js","import React from 'react'\nimport Helmet from 'react-helmet'\n\nimport Header from '../Header'\nimport Loader from '../Loader'\nimport ErrorComponent from '../Error'\n\nimport Project from './Project'\n\nconst summary = 'This is a list of software authored by the developer. Clicking on the title of an item will open a new tab/window navigated to a publicly hosted version of the software. Each project`s source code is available via the `source` link.'\n\nexport default class ProjectsList extends React.Component {\n  componentDidMount () {\n    if (!this.props.projects) {\n      this.props.fetchProjects()\n    }\n  }\n\n  render () {\n    const { projects, isLoading, error } = this.props\n    let content\n\n    if (projects) {\n      const sortedData = projects.sort((a, b) => b.order - a.order)\n\n      content = (\n        <div>\n          <Header summary={summary} />\n          {\n            sortedData.map(projectsData => (\n              <Project key={projectsData.id} cardData={projectsData} />\n            ))\n          }\n        </div>\n      )\n    } else if (isLoading) {\n      content = (\n        <div>\n          <Header summary={summary} />\n          <Loader />\n        </div>\n      )\n    } else if (error) {\n      // @todo reroute to 5xx view\n      content = <ErrorComponent />\n    } else {\n      content = null\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>dslama.net - projects</title>\n        </Helmet>\n        {content}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Projects/ProjectsList.js","import React from 'react'\n\nimport ProjectsContainer from './ProjectsContainer'\n\nexport default class ProjectsParentContainer extends React.Component {\n  render () {\n    const { children: editProjectsComponent } = this.props\n\n    return editProjectsComponent || <ProjectsContainer />\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Projects/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from './add.css'\n\nclass Add extends React.Component {\n  render () {\n    const {\n      serverResult,\n      submitHandler,\n      changeHandler,\n      author,\n      title,\n      quote,\n      publishDate,\n      publication,\n      url } = this.props\n\n    const serverResultClasses = ['server-message']\n    if (serverResult.error) {\n      serverResultClasses.push('error')\n    } else {\n      serverResultClasses.push('success')\n    }\n\n    return (\n      <form styleName='container' onSubmit={submitHandler}>\n        <input type='text' value={author} onChange={changeHandler.bind(this, 'author')} placeholder='author' styleName='form-element' />\n        <textarea value={title} onChange={changeHandler.bind(this, 'title')} placeholder='title' styleName='form-element' />\n        <textarea value={quote} onChange={changeHandler.bind(this, 'quote')} placeholder='quote' styleName='form-element' />\n        <input value={publishDate} type='text' onChange={changeHandler.bind(this, 'publishDate')} placeholder='publishDate' styleName='form-element' />\n        <input value={publication} type='text' onChange={changeHandler.bind(this, 'publication')} placeholder='publication' styleName='form-element' />\n        <textarea value={url} onChange={changeHandler.bind(this, 'url')} placeholder='url' styleName='form-element' />\n        <div styleName={serverResultClasses.join(' ')}>{serverResult.message}</div>\n        <input type='submit' value='Add Reading' styleName='form-element' />\n      </form>\n    )\n  }\n}\n\nexport default cssModules(Add, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/Add/Add.js","import React from 'react'\nimport axios from 'axios'\n\nimport Add from './Add'\n\nexport default class AddContainer extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.defaultServerState = {\n      serverResult: {\n        message: '',\n        error: null\n      }\n    }\n\n    this.defaultFormState = {\n      author: '',\n      title: '',\n      quote: '',\n      publishDate: '',\n      publication: '',\n      url: ''\n    }\n\n    this.defaultState = Object.assign({}, this.defaultFormState, this.defaultServerState)\n    this.state = this.defaultState\n\n    this._onSubmit = this._onSubmit.bind(this)\n    this._onChange = this._onChange.bind(this)\n  }\n\n  _onSubmit (event) {\n    // prevent page refresh\n    event.preventDefault()\n\n    try {\n      // data validations\n      //\n      // 1) No empty inputs\n      Object.keys(this.state).forEach(key => {\n        if (!this.state[key]) {\n          throw new Error(`Invalid Submission: '${key}' cannot be falsy`)\n        }\n      })\n      // 2) publish date must be in a correct format\n      const publishDate = new Date(this.state.publishDate).valueOf()\n      if (!publishDate) {\n        throw new Error('Invalid date!')\n      }\n\n      // data to push to dynamoDB\n      const readingData = {\n        author: this.state.author,\n        title: this.state.title,\n        quote: this.state.quote,\n        publishDate: publishDate,\n        publication: this.state.publication,\n        url: this.state.url\n      }\n\n      // push data to dynamoDB\n      axios.post('/api/readings', readingData)\n        .then(res => {\n          this.setState({ serverResult: {\n            message: 'Success!',\n            error: null\n          }})\n          // clear form values\n          this.setState(this.defaultFormState)\n        })\n        .catch(err => {\n          throw err\n        })\n    } catch (error) {\n      this.setState({ serverResult: {\n        message: error.message,\n        error\n      }\n      })\n    }\n  }\n\n  _onChange (element, event) {\n    this.setState({ [element]: event.target.value })\n  }\n\n  render () {\n    return (\n      <Add\n        serverResult={this.state.serverResult}\n        submitHandler={this._onSubmit}\n        changeHandler={this._onChange}\n        author={this.state.author}\n        title={this.state.title}\n        quote={this.state.quote}\n        publishDate={this.state.publishDate}\n        publication={this.state.publication}\n        url={this.state.url}\n        />\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/Add/index.js","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport styles from '../common.css'\n\nimport { formatDate } from '../helpers'\n\nfunction Reading ({ cardData }) {\n  const date = new Date(cardData.publishDate)\n  const publishDate = formatDate(date)\n\n  return (\n    <div key={cardData.id} styleName='flex-container'>\n      <a\n        styleName='card-link'\n        href={cardData.url}\n        target='_blank'>\n        <div styleName='card shadow'>\n          <div styleName='title'>\n            {cardData.title}\n          </div>\n          <div styleName='details'>\n            <div>\n              {`${cardData.author} @ ${cardData.publication}`}\n            </div>\n            <div>\n              {publishDate}\n            </div>\n          </div>\n          <div styleName='quote' dangerouslySetInnerHTML={{ __html: cardData.quote }} />\n        </div>\n      </a>\n    </div>\n  )\n}\n\nexport default cssModules(Reading, styles, { allowMultiple: true })\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/Reading.js","import { connect } from 'react-redux'\n\nimport { fetchReadings } from '../../data/readings/actions'\nimport ReadingsList from './ReadingsList'\n\nconst mapStateToProps = state => {\n  if (state.readings.isLoading) {\n    return {\n      isLoading: state.readings.isLoading\n    }\n  } else if (state.readings.error) {\n    // @todo log error\n    return {\n      error: true\n    }\n  } else if (state.readings.isFetched) {\n    return {\n      readings: state.readings.data\n    }\n  } else {\n    return {}\n  }\n}\n\nexport default connect(mapStateToProps, { fetchReadings })(ReadingsList)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/ReadingsContainer.js","import React from 'react'\nimport Helmet from 'react-helmet'\n\nimport Header from '../Header'\nimport Loader from '../Loader'\nimport ErrorComponent from '../Error'\n\nimport Reading from './Reading'\n\nconst summary = 'This is a list of interesting and informative blog posts from others in the international web development community. Most recently discovered posts are nearer the top.'\n\nexport default class Readings extends React.Component {\n  componentDidMount () {\n    if (!this.props.readings) {\n      this.props.fetchReadings()\n    }\n  }\n\n  render () {\n    const { readings, isLoading, error } = this.props\n    let content\n\n    if (readings) {\n      const sortedData = readings.sort((a, b) => b.foundDate - a.foundDate)\n\n      content = (\n        <div>\n          <Header summary={summary} />\n          {\n            sortedData.map(readingData => (\n              <Reading key={readingData.id} cardData={readingData} />\n            ))\n          }\n        </div>\n      )\n    } else if (isLoading) {\n      content = (\n        <div>\n          <Header summary={summary} />\n          <Loader />\n        </div>\n      )\n    } else if (error) {\n      // @todo reroute to 5xx view\n      content = <ErrorComponent />\n    } else {\n      content = null\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>dslama.net - readings</title>\n        </Helmet>\n        {content}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/ReadingsList.js","import React from 'react'\n\nimport ReadingsContainer from './ReadingsContainer'\n\nexport default class ReadingsParentContainer extends React.Component {\n  render () {\n    const { children: addReadingsComponent } = this.props\n\n    return addReadingsComponent || <ReadingsContainer />\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Readings/index.js","import React from 'react'\nimport { Route, IndexRoute } from 'react-router'\n\n// Components\nimport Layout from './Layout'\n\nimport About from './About'\nimport EditAbout from './About/Edit'\n\nimport Posts from './Posts'\n\nimport Projects from './Projects'\n\nimport Readings from './Readings'\nimport AddReading from './Readings/Add'\n\nimport Login from './Login'\n\nexport default (\n  <Route path='/' component={Layout}>\n    <IndexRoute component={About} />\n    <Route path='about' component={About}>\n      <Route path='edit' component={EditAbout} />\n    </Route>\n    <Route path='posts' component={Posts} />\n    <Route path='projects' component={Projects} />\n    <Route path='readings' component={Readings}>\n      <Route path='add' component={AddReading} />\n    </Route>\n    {/* login path is purposefully obscured */}\n    <Route path='babylou' component={Login} />\n    {/* @todo: add /404 path */}\n  </Route>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/routes.js","import {\n  ABOUT_ADD,\n  ABOUT_FETCH_PENDING,\n  ABOUT_FETCH_FULFILLED,\n  ABOUT_FETCH_REJECTED } from './constants'\n\nconst reducers = {\n  [ABOUT_ADD]: (state, payload) => ({\n    ...state,\n    data: payload,\n    isFetched: true\n  }),\n  [ABOUT_FETCH_PENDING]: (state, payload) => ({\n    ...state,\n    isLoading: true\n  }),\n  [ABOUT_FETCH_FULFILLED]: (state, payload) => ({\n    ...state,\n    data: payload.data,\n    isLoading: false,\n    isFetched: true\n  }),\n  [ABOUT_FETCH_REJECTED]: (state, payload) => ({\n    ...state,\n    error: payload.response.data,\n    isLoading: false\n  })\n}\n\nexport default (state = {}, { type, payload }) => {\n  const actionReducer = reducers[type]\n  return typeof actionReducer === 'function' ? actionReducer(state, payload) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/about/reducers.js","import {\n  POSTS_FETCH_PENDING,\n  POSTS_FETCH_FULFILLED,\n  POSTS_FETCH_REJECTED,\n  POSTS_ADD } from './constants'\n\nconst reducers = {\n  [POSTS_ADD]: (state, payload) => ({\n    ...state,\n    data: payload,\n    isFetched: true\n  }),\n  [POSTS_FETCH_PENDING]: (state, payload) => ({\n    ...state,\n    isLoading: true\n  }),\n  [POSTS_FETCH_FULFILLED]: (state, payload) => ({\n    ...state,\n    data: payload.data,\n    isLoading: false,\n    isFetched: true\n  }),\n  [POSTS_FETCH_REJECTED]: (state, payload) => ({\n    ...state,\n    error: payload.response.data,\n    isLoading: false\n  })\n}\n\nexport default (state = {}, { type, payload }) => {\n  const actionReducer = reducers[type]\n  return typeof actionReducer === 'function' ? actionReducer(state, payload) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/posts/reducers.js","import {\n  PROJECTS_FETCH_PENDING,\n  PROJECTS_FETCH_FULFILLED,\n  PROJECTS_FETCH_REJECTED,\n  PROJECTS_ADD } from './constants'\n\nconst reducers = {\n  [PROJECTS_ADD]: (state, payload) => ({\n    ...state,\n    data: payload,\n    isFetched: true\n  }),\n  [PROJECTS_FETCH_PENDING]: (state, payload) => ({\n    ...state,\n    isLoading: true\n  }),\n  [PROJECTS_FETCH_FULFILLED]: (state, payload) => ({\n    ...state,\n    data: payload.data,\n    isLoading: false,\n    isFetched: true\n  }),\n  [PROJECTS_FETCH_REJECTED]: (state, payload) => ({\n    ...state,\n    error: payload.response.data,\n    isLoading: false\n  })\n}\n\nexport default (state = {}, { type, payload }) => {\n  const actionReducer = reducers[type]\n  return typeof actionReducer === 'function' ? actionReducer(state, payload) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/projects/reducers.js","import {\n  READINGS_ADD,\n  READINGS_FETCH_PENDING,\n  READINGS_FETCH_FULFILLED,\n  READINGS_FETCH_REJECTED } from './constants'\n\nconst reducers = {\n  [READINGS_ADD]: (state, payload) => ({\n    ...state,\n    data: payload,\n    isFetched: true\n  }),\n  [READINGS_FETCH_PENDING]: (state, payload) => ({\n    ...state,\n    isLoading: true\n  }),\n  [READINGS_FETCH_FULFILLED]: (state, payload) => ({\n    ...state,\n    data: payload.data,\n    isLoading: false,\n    isFetched: true\n  }),\n  [READINGS_FETCH_REJECTED]: (state, payload) => ({\n    ...state,\n    error: payload.response.data,\n    isLoading: false\n  })\n}\n\nexport default (state = {}, { type, payload }) => {\n  const actionReducer = reducers[type]\n  return typeof actionReducer === 'function' ? actionReducer(state, payload) : state\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/readings/reducers.js","import { combineReducers } from 'redux'\n\nimport readings from './readings/reducers'\nimport about from './about/reducers'\nimport posts from './posts/reducers'\nimport projects from './projects/reducers'\n\nexport default combineReducers({\n  readings,\n  about,\n  posts,\n  projects\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/reducers.js","import { createStore, applyMiddleware } from 'redux'\nimport promiseMiddleware from 'redux-promise-middleware'\n\nimport root from './reducers'\n\nexport default (initialState = {}) => {\n  return createStore(\n    root,\n    initialState,\n    applyMiddleware(promiseMiddleware())\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/data/store.js","import express from 'express'\n\nimport { get as getProjects } from './controllers/projects'\nimport { get as getPosts } from './controllers/posts'\nimport { get as getAbout } from './controllers/about'\nimport {\n  get as getReadings,\n  add as addReading } from './controllers/readings'\n\nconst router = express.Router()\n\nrouter.get('/projects', getProjects)\nrouter.get('/posts', getPosts)\nrouter.get('/about', getAbout)\n\nrouter.get('/readings', getReadings)\nrouter.post('/readings', addReading)\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api.js","import { get as getAbout } from '../models/about'\n\nexport function get (req, res) {\n  return getAbout()\n    .then(data => {\n      res.status(200)\n      res.json(data)\n    })\n    .catch(() => {\n      // @todo log error\n      res.sendStatus(500)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/about.js","import bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\nimport { getHashedPassword as getUsersHashedPassword } from '../models/user'\nimport { increment, time } from '../helpers/metrics'\nimport constants from '../../../config/constants'\n\nconst ACCESSTOKENCOOKIE = constants.get('accessTokenCookie')\nconst SECRET = constants.get('secret')\nconst INVALID_CREDS = 'INVALID_CREDS'\n\nfunction verifyPassword (req, response) {\n  // username does not exist in DB\n  if (!response) {\n    return Promise.reject(new Error(INVALID_CREDS))\n  }\n\n  return new Promise((resolve, reject) => {\n    bcrypt.compare(req.body.password, response, (error, result) => {\n      if (error) {\n        reject(error)\n      }\n      resolve(result)\n    })\n  })\n}\n\nfunction createJWT (res, result) {\n  // incorrect password\n  if (result !== true) {\n    res.sendStatus(418)\n    return\n  }\n\n  // create JWT\n  const accessToken = jwt.sign({\n    // 3 hours\n    exp: Math.floor(Date.now() / 1000) + (60 * 60 * 3)\n  }, SECRET)\n\n  // set cookie to JWT\n  res.cookie(ACCESSTOKENCOOKIE, accessToken,\n    {\n      // 3 hours\n      expires: new Date(Date.now() + 1000 * 60 * 60 * 3),\n      httpOnly: true\n    })\n\n  // send OK response\n  res.sendStatus(200)\n}\n\nexport function authenticateUser (req, res) {\n  const startTime = Date.now()\n\n  return getUsersHashedPassword(req.body.username)\n    .then(verifyPassword.bind(null, req))\n    .then(createJWT.bind(null, res))\n    .then(() => {\n      increment('login.success')\n      time('login.suc', Date.now() - startTime)\n    })\n    .catch(error => {\n      const responseCode = error && error.message === INVALID_CREDS\n        ? 418\n        : 500\n\n      res.sendStatus(responseCode)\n      increment('login.failure')\n      time('login.fail', Date.now() - startTime)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/login.js","import constants from '../../../config/constants'\n\nconst ACCESSTOKENCOOKIE = constants.get('accessTokenCookie')\n\nexport function logout (req, res) {\n  res.clearCookie(ACCESSTOKENCOOKIE, {})\n  res.sendStatus(200)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/logout.js","import { get as getPosts } from '../models/posts'\n\nexport function get (req, res) {\n  return getPosts()\n    .then(data => {\n      res.status(200)\n      res.json(data)\n    })\n    .catch(() => {\n      // @todo log error\n      res.sendStatus(500)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/posts.js","import { get as getProjects } from '../models/projects'\n\nexport function get (req, res) {\n  return getProjects()\n    .then(projects => {\n      res.status(200)\n      res.json(projects)\n    })\n    .catch(() => {\n      // @todo log error\n      res.sendStatus(500)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/projects.js","import uuid from 'uuid/v4'\n\nimport {\n  get as getReadings,\n  add as addReading } from '../models/readings'\n\nimport Raven from '../helpers/sentry'\n\nfunction get (req, res) {\n  return getReadings()\n    .then(readings => {\n      res.status(200)\n      res.json(readings)\n    })\n    .catch(e => {\n      // res.sendStatus(500)\n      res.status(500).json(e)\n      // @todo log error\n      Raven.captureException(e)\n    })\n}\n\nfunction add (req, res) {\n  // @todo validate against empty strings (on frontend too!)\n  const readingData = {\n    author: req.body.author,\n    foundDate: (new Date()).getTime(),\n    publishDate: req.body.publishDate,\n    publication: req.body.publication,\n    quote: req.body.quote,\n    title: req.body.title,\n    url: req.body.url,\n    id: uuid()\n  }\n\n  return addReading(readingData)\n    .then(() => {\n      res.sendStatus(200)\n    })\n    .catch(() => {\n      res.sendStatus(500)\n    })\n}\n\nexport {\n  get,\n  add\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/readings.js","import React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport { match, RouterContext } from 'react-router'\nimport { Provider } from 'react-redux'\n\nimport createStore from '../../client/data/store'\n\nimport { addReadings } from '../../client/data/readings/actions'\nimport { addAbout } from '../../client/data/about/actions'\nimport { addPosts } from '../../client/data/posts/actions'\nimport { addProjects } from '../../client/data/projects/actions'\n\nimport routes from '../../client/components/routes'\nimport { verify as verifyJWT } from '../models/jwt'\n\nimport { get as getPosts } from '../models/posts'\nimport { get as getReadings } from '../models/readings'\nimport { get as getAbout } from '../models/about'\nimport { get as getProjects } from '../models/projects'\n\nfunction fetchDataByPath (req) {\n  return new Promise((resolve, reject) => {\n    const store = createStore()\n\n    switch (req.originalUrl) {\n      case '/':\n      case '/about':\n        getAbout()\n          .then(data => {\n            store.dispatch(addAbout(data))\n            resolve({ store })\n          })\n          .catch(() => {\n            // @todo log error\n            resolve()\n          })\n        break\n      case '/projects':\n        getProjects()\n          .then(data => {\n            store.dispatch(addProjects(data))\n            resolve({ store })\n          })\n          .catch(() => {\n            // @todo log error\n            resolve()\n          })\n        break\n      case '/posts':\n        getPosts()\n          .then(data => {\n            store.dispatch(addPosts(data))\n            resolve({ store })\n          })\n          .catch(() => {\n            // @todo log error\n            resolve()\n          })\n        break\n      case '/readings':\n        getReadings()\n          .then(data => {\n            store.dispatch(addReadings(data))\n            resolve({ store })\n          })\n          .catch(() => {\n            // @todo log error\n            resolve()\n          })\n        break\n      case '/readings/add':\n        verifyJWT(req)\n          .then(() => {\n            resolve()\n          })\n          .catch(() => {\n            // @todo log warning\n            resolve({ redirect: { pathname: '/', search: '' } })\n          })\n        break\n      default:\n        resolve()\n    }\n  })\n}\n\n/**\n  * Perform server-side async data fetching in this function (according to path)\n  **/\nfunction matchRoutes (routes, req) {\n  return new Promise((resolve, reject) => {\n    match({ routes, location: req.originalUrl }, (err, redirect, props) => {\n      if (err) {\n        reject(err)\n      } else {\n        fetchDataByPath(req)\n          .then(result => {\n            let store\n\n            if (result) {\n              redirect = result.redirect || redirect\n              store = result.store\n            }\n\n            resolve({ props, redirect, store })\n          })\n      }\n    })\n  })\n}\n\nfunction renderComponent (req, res) {\n  matchRoutes(routes, req)\n    .then(({ redirect, props, store }) => {\n      if (redirect) {\n        res.redirect(302, redirect.pathname + redirect.search)\n      } else if (props) {\n        store = store || createStore()\n\n        const initialState = JSON.stringify(store.getState())\n        // generate store with data\n        const markup = renderToString(\n          <Provider store={store} key='provider'>\n            <RouterContext\n              {...props}\n              createElement={(Component, props) => {\n                return <Component {...props} />\n              }}\n            />\n          </Provider>\n        )\n\n        res\n          .status(200)\n          .render('index', { markup, initialState })\n      } else {\n        // @todo: replace with 302 redirect to /404\n        res\n          .status(404)\n          .send('Not found')\n      }\n    })\n    .catch(err => {\n      // @todo log error\n      console.error(err)\n      res\n        .status(500)\n        .send('500: System Error')\n    })\n}\n\nexport default renderComponent\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/render-component.js","import { verify as verifyJWT } from '../models/jwt'\n\nexport function isAuthenticated (req, res) {\n  return verifyJWT(req)\n    .then(() => {\n      res.sendStatus(200)\n    })\n    .catch(() => {\n      // @todo log error\n      res.sendStatus(418)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/status.js","/**\n * @overview Metrics configuration\n * @requires lynx\n *\n * @todo only send metrics if `METRICS_HOST` and other required env vars are set, otherwise leave as placeholder functions\n */\n\nimport Lynx from 'lynx'\n\nimport constants from '../../../config/constants'\n\nconst settings = {\n  host: constants.get('METRICS_HOST'),\n  port: constants.get('METRICS_PORT')\n}\n\nconst client = new Lynx(settings.host, settings.port)\n\nconst prefix = constants.get('METRICS_PREFIX') || 'dslamanet'\n\nfunction sanitizeName (name) {\n  const tokens = name.split('/')\n\n  // prevent a leading '_'\n  tokens.shift()\n  return tokens.join('_')\n}\n\nfunction createRequestNamespace (req) {\n  const method = req.method || 'unknown_method'\n  const urlTokens = req.originalUrl.split('?')\n  const resourceName = urlTokens[0].replace('.', '_')\n  const sanitizedResourceName = sanitizeName(resourceName)\n  return ['requests', method.toLowerCase(), sanitizedResourceName].join('.')\n}\n\nfunction increment (data) {\n  client.increment(`${prefix}.${data}`)\n}\n\nfunction time (data, duration) {\n  client.timing(`${prefix}.${data}`, duration)\n}\n\nfunction sendTimeMetric (startTime, namespace, result) {\n  const duration = new Date().getTime() - startTime\n  time(`${namespace}.${result}`, duration)\n}\n\n/**\n * Function called on response finish that sends stats to statsd\n **/\nfunction sendFinishedRequest (req, res, startTime) {\n  // we don't want to metric EB health queries\n  if (req.path.includes('health')) {\n    return\n  }\n\n  const namespace = createRequestNamespace(req)\n\n  // Send metric: Status Code\n  const statusCode = res.statusCode || 'unknown_status'\n  increment(`${namespace}.status_code.${statusCode}`)\n\n  // Send metric: Response Time\n  const duration = new Date().getTime() - startTime\n  time(`${namespace}.response_time`, duration)\n}\n\n/**\n * Function called on request close (client initiated) that sends stats to statsd\n **/\nfunction sendRequestClosed (req, startTime) {\n  // we don't want to metric EB health queries\n  if (req.path.includes('health')) {\n    return\n  }\n\n  const namespace = createRequestNamespace(req)\n\n  // Send metric: Status Code\n  increment(`${namespace}.status_code.client_closed_connection`)\n\n  // Send metric: Response Time\n  const duration = new Date().getTime() - startTime\n  time(`${namespace}.response_time`, duration)\n}\n\nfunction middleware (req, res, next) {\n  const startTime = new Date().getTime()\n\n  // Add response listeners\n  //\n  // Server finishes sending a response\n  res.once('finish', sendFinishedRequest.bind(null, req, res, startTime))\n  // Client initiated the end of the request\n  req.once('close', sendRequestClosed.bind(null, req, startTime))\n\n  if (next) {\n    next()\n  }\n}\n\nmodule.exports = {\n  middleware,\n  increment,\n  sendTimeMetric,\n  client\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/metrics.js","import Raven from 'raven'\n\nimport constants from '../../../config/constants'\n\n// @todo only for production builds\nRaven.config(constants.get('SENTRY_DNS')).install()\n\nexport default Raven\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/helpers/sentry.js","import db from './db'\n\nimport constants from '../../../config/constants'\n\nexport const getHashedPassword = (username) => {\n  return db\n    .table(constants.get('DB_TABLE_USERS'))\n    .where('name').eq(username)\n    .get()\n    .then(res => {\n      return res && res.password\n        ? res.password\n        : null\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/user.js","import express from 'express'\n\nimport api from './api'\n\nimport { logout } from './controllers/logout'\nimport { isAuthenticated } from './controllers/status'\nimport { authenticateUser } from './controllers/login'\nimport renderComponent from './controllers/render-component'\n\nconst router = express.Router()\n\nrouter.use('/api', api)\n\nrouter.post('/login', authenticateUser)\nrouter.post('/logout', logout)\nrouter.get('/status/authentication', isAuthenticated)\n\nrouter.get('*', renderComponent)\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/routes.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-About-about__shadow--2s3IH\",\"card\":\"src-client-components-About-about__card--3Zn1y\",\"flex-container\":\"src-client-components-About-about__flex-container--24ob4\",\"card-link\":\"src-client-components-About-about__card-link--3gWG-\",\"title\":\"src-client-components-About-about__title--3nION\",\"details\":\"src-client-components-About-about__details--1yIRB\",\"quote\":\"src-client-components-About-about__quote--2DGIg\",\"about\":\"src-client-components-About-about__about--1xyWk\",\"logo-container\":\"src-client-components-About-about__logo-container--QrW8i\",\"logo-main\":\"src-client-components-About-about__logo-main--1_38g\",\"links\":\"src-client-components-About-about__links--3f97f\",\"link\":\"src-client-components-About-about__link--31hcU\",\"bio\":\"src-client-components-About-about__bio--2ZlZt\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/About/about.css\n// module id = 75\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"src-client-components-Error-error__container--2l58E\",\"message\":\"src-client-components-Error-error__message--2TliY\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Error/error.css\n// module id = 76\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-Header-header__shadow--1myqX\",\"card\":\"src-client-components-Header-header__card--3IYkx\",\"flex-container\":\"src-client-components-Header-header__flex-container--gB0io\",\"card-link\":\"src-client-components-Header-header__card-link--3qHMB\",\"title\":\"src-client-components-Header-header__title--389jk\",\"details\":\"src-client-components-Header-header__details--1tNWq\",\"quote\":\"src-client-components-Header-header__quote--2l8Gv\",\"container\":\"src-client-components-Header-header__container--bUWOW\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Header/header.css\n// module id = 77\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"mobile\":\"src-client-components-Layout-Navbar-Hamburger-hamburger__mobile--mx0uj\",\"hamburger\":\"src-client-components-Layout-Navbar-Hamburger-hamburger__hamburger--397ER\",\"line\":\"src-client-components-Layout-Navbar-Hamburger-hamburger__line--3KO9O\",\"active\":\"src-client-components-Layout-Navbar-Hamburger-hamburger__active--ueoJF\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Layout/Navbar/Hamburger/hamburger.css\n// module id = 78\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-Layout-Navbar-navbar__shadow--1Oaa8\",\"card\":\"src-client-components-Layout-Navbar-navbar__card--3sY_P\",\"flex-container\":\"src-client-components-Layout-Navbar-navbar__flex-container--1Y1Dl\",\"card-link\":\"src-client-components-Layout-Navbar-navbar__card-link--1PBhq\",\"title\":\"src-client-components-Layout-Navbar-navbar__title--34ggy\",\"details\":\"src-client-components-Layout-Navbar-navbar__details--5QOyT\",\"quote\":\"src-client-components-Layout-Navbar-navbar__quote--2ITkM\",\"outer-container\":\"src-client-components-Layout-Navbar-navbar__outer-container--1wOrw\",\"middle-container\":\"src-client-components-Layout-Navbar-navbar__middle-container--2iHmY\",\"inner-container\":\"src-client-components-Layout-Navbar-navbar__inner-container--1KWZM\",\"link\":\"src-client-components-Layout-Navbar-navbar__link--3ESxj\",\"active\":\"src-client-components-Layout-Navbar-navbar__active--3cEHk\",\"mobile\":\"src-client-components-Layout-Navbar-navbar__mobile--1fmLo\",\"show\":\"src-client-components-Layout-Navbar-navbar__show--3zwlQ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Layout/Navbar/navbar.css\n// module id = 79\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"src-client-components-Layout-layout__container--1gPUS\",\"footer-container\":\"src-client-components-Layout-layout__footer-container--14TRv\",\"footer-link\":\"src-client-components-Layout-layout__footer-link--3vHBm\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Layout/layout.css\n// module id = 80\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"src-client-components-Loader-loader__container--3r2HT\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Loader/loader.css\n// module id = 81\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-Login-login__shadow--3wBgv\",\"card\":\"src-client-components-Login-login__card--1O99M\",\"flex-container\":\"src-client-components-Login-login__flex-container--1fEFa\",\"card-link\":\"src-client-components-Login-login__card-link--jzGEr\",\"title\":\"src-client-components-Login-login__title--2XX2P\",\"details\":\"src-client-components-Login-login__details--3KpoH\",\"quote\":\"src-client-components-Login-login__quote--3Edhd\",\"container\":\"src-client-components-Login-login__container--2gARE\",\"auth-div\":\"src-client-components-Login-login__auth-div--3lf1G\",\"form-input\":\"src-client-components-Login-login__form-input--j5I6U\",\"form-text\":\"src-client-components-Login-login__form-text--LmRzk\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Login/login.css\n// module id = 82\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-Projects-project__shadow--1n7z_\",\"card\":\"src-client-components-Projects-project__card--Gj7nE\",\"flex-container\":\"src-client-components-Projects-project__flex-container--3K7Qw\",\"card-link\":\"src-client-components-Projects-project__card-link--3z9SJ\",\"title\":\"src-client-components-Projects-project__title--3Vhbg\",\"details\":\"src-client-components-Projects-project__details--34o5V\",\"quote\":\"src-client-components-Projects-project__quote--3zdDu\",\"source-link\":\"src-client-components-Projects-project__source-link--1JInr\",\"description\":\"src-client-components-Projects-project__description--wVn_n\",\"project-link\":\"src-client-components-Projects-project__project-link--3Xtv1\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Projects/project.css\n// module id = 83\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shadow\":\"src-client-components-Readings-Add-add__shadow--BRB5e\",\"card\":\"src-client-components-Readings-Add-add__card--2SJlV\",\"flex-container\":\"src-client-components-Readings-Add-add__flex-container--BZ5l6\",\"card-link\":\"src-client-components-Readings-Add-add__card-link--3lpyP\",\"title\":\"src-client-components-Readings-Add-add__title--1G4MR\",\"details\":\"src-client-components-Readings-Add-add__details--1Cs6U\",\"quote\":\"src-client-components-Readings-Add-add__quote--1M-S3\",\"container\":\"src-client-components-Readings-Add-add__container--aYs-_\",\"form-element\":\"src-client-components-Readings-Add-add__form-element--Od8Kw\",\"server-message\":\"src-client-components-Readings-Add-add__server-message--3MtXu\",\"error\":\"src-client-components-Readings-Add-add__error--1k0_E\",\"success\":\"src-client-components-Readings-Add-add__success--2xGts\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Readings/Add/add.css\n// module id = 84\n// module chunks = 0","module.exports = require(\"aws-dynamodb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-dynamodb\"\n// module id = 85\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 86\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 87\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 88\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 89\n// module chunks = 0","module.exports = require(\"lynx\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lynx\"\n// module id = 90\n// module chunks = 0","module.exports = require(\"nconf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nconf\"\n// module id = 91\n// module chunks = 0","module.exports = require(\"raven\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"raven\"\n// module id = 92\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 93\n// module chunks = 0","module.exports = require(\"redux-promise-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-promise-middleware\"\n// module id = 94\n// module chunks = 0","module.exports = require(\"uuid/v4\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid/v4\"\n// module id = 95\n// module chunks = 0"],"sourceRoot":""}